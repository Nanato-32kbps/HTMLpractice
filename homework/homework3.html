<html>
<head>
<title>
ジャンケン
</title>
</head>
<body>
<p><div id = "d1"></div></p>
<input type="button" onclick="attack(0)" value="ぐー">
<input type="button" onclick="attack(1)" value="ちょき">
<input type="button" onclick="attack(2)" value="ぱー">
<script type="text/javascript">
function attack(monster1_hand){
 monster2_hand = Math.floor(Math.random() * 3);
 if(monster1_hand == monster2_hand){
    mag = 1;
 }
 else if(monster1_hand == 0){
    if(monster2_hand == 1)mag = 1.5;
    else mag = 0.5
 }
 else if(monster1_hand == 1){
    if(monster2_hand == 2)mag = 1.5;
    else mag = 0.5
 }
 else if(monster1_hand == 2){
    if(monster2_hand == 0)mag = 1.5;
    else mag = 0.5
 }

 if(chk == 0){
    monster_hp[1] = monster_hp[1] - Math.floor(Math.random() * monster_atk[0] * mag);
    result = result + "モンスター1の攻撃!モンスター2の残りHP" + monster_hp[1] + "<br>";
    if(monster_hp[1] < 1){
      chk = 1;
    }
 }
 if(chk == 0){
    monster_hp[0] = monster_hp[0] - Math.floor(Math.random() * monster_atk[1]);
    result = result + "モンスター2の攻撃!モンスター1の残りHP" + monster_hp[0] + "<br>";
    if(monster_hp[0] < 1){
      chk = 1;
    }
 }

 if(chk == 1){
   if(monster_hp[0] > monster_hp[1]){
     result = result + "モンスター1の勝ち<br>";
   }else if(monster_hp[0] < monster_hp[1]){
    result = result + "モンスター2の勝ち<br>";
   }else{
    result = result + "引き分け<br>";
   } 
 }

 document.getElementById("d1").innerHTML = result;
}

var result = "";
var monster_hp = [];
var monster_atk = [];

for(var i = 0; i < 2; i++){
  monster_hp[i] = Math.floor(Math.random() * 100);
  monster_atk[i] = Math.floor(Math.random() * 50);
  var num = i+1;
  result = result + "モンスター" + num + "HP" + monster_hp[i] + "<br>";
  result = result + "モンスター" + num + "ATK" + monster_atk[i] + "<br>";
}

var chk = 0;
document.getElementById("d1").innerHTML = result;
</script>
</body>
</html>